<form [formGroup]="profilUserFormGroup">
  <div class="rounded-xl">
    <div
      class="relative h-44 rounded-xl border bg-gray-100 bg-no-repeat bg-cover bg-center"
    >
      <ng-container *ngIf="isProfil && roleUser == Role.admin">
        <div class="flex justify-end items-end h-full p-[6px]">
          <span
            class="inline-flex items-center rounded-xl bg-red-50 px-4 py-1 text-base font-medium text-red-700 ring-1 ring-inset ring-red-600/10"
            >{{ roleUser == Role.admin ? "Admin" : "" }}</span
          >
        </div>
      </ng-container>
    </div>

    <div class="pt-0 pb-4 sm:pt-0">
      <div class="space-y-4 sm:space-y-6">
        <!-- header -->
        <div class="sm:px-20 grid sm:items-center sm:gap-x-8 gap-3">
          <div class="flex relative !max-w-max">
            <img
              class="-mt-24 relative inline-block size-32 mx-auto sm:mx-0 rounded-full ring-4 ring-white dark:ring-neutral-900"
              src="{{ user.image }}"
              alt="Image Description"
            />
            <ng-container
              *ngIf="
                this.roleUser == Role.admin ||
                this.roleUser == Role.user ||
                (isProfil && this.roleUser == Role.helpDesk)
              "
            >
              <div
                class="size-12 rounded-full border bg-gray-100 absolute left-[82%] -top-[60%] cursor-pointer"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  class="w-full h-full flex justify-center items-center p-[10px]"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"
                  />
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"
                  />
                </svg>
              </div>
            </ng-container>
          </div>
          <div
            class="mt-4 sm:mt-auto sm:mb-1.5 flex justify-center sm:justify-start gap-4"
          >
            <h2 class="text-2xl font-semibold">
              {{ user.firstName }}
              {{ user.lastName }}
            </h2>
            <ng-container
              *ngIf="
                !isProfil &&
                (roleUser == Role.admin || roleUser == Role.helpDesk)
              "
            >
              <button
                (click)="activateUser()"
                type="button"
                class="py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border bg-white shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:hover:bg-neutral-800"
                [ngClass]="
                  user.isActivate
                    ? 'border-blue-200 text-blue-500'
                    : 'border-red-200 text-red-500'
                "
              >
                {{ user.isActivate ? "Activate" : "Desactivate" }}
              </button>
            </ng-container>
          </div>
        </div>

        <div
          class="overflow-hidden dark:bg-neutral-800 dark:border-neutral-700"
        >
          <div class="grid md:grid-cols-2 gap-6 mb-5 pb-5">
            <div
              class="p-8 border border-gray-200 bg-white rounded-xl shadow-sm grid space-y-3 gap-7"
            >
              <!-- referenceUser -->
              <dl class="grid sm:flex gap-x-3 text-base font-medium">
                <dt class="min-w-36 max-w-[200px]">Reference User</dt>
                <dd class="relative text-gray-800 dark:text-neutral-200 w-1/2">
                  <input
                    formControlName="referenceUser"
                    class="focus:outline-none peer pb-3 pe-3 ps-9 block w-full bg-transparent border-t-transparent border-b-2 border-x-transparent border-b-gray-200 text-base focus:border-t-transparent focus:border-x-transparent focus:border-b-blue-500 focus:ring-0 disabled:opacity-50 disabled:pointer-events-none dark:border-b-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600 dark:focus:border-b-neutral-600"
                    placeholder=""
                  />
                  <div
                    class="absolute pb-3 inset-y-0 start-0 flex items-center pointer-events-none ps-2 peer-disabled:opacity-50 peer-disabled:pointer-events-none"
                  >
                    <svg
                      class="flex-shrink-0 size-5 text-gray-500 dark:text-neutral-500"
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"
                      />
                    </svg>
                  </div>
                </dd>
              </dl>

              <!-- Email -->
              <dl class="grid sm:flex gap-x-3 text-base font-medium">
                <dt class="min-w-36 max-w-[200px]">Email</dt>
                <dd class="relative text-gray-800 dark:text-neutral-200 w-1/2">
                  <input
                    formControlName="email"
                    class="focus:outline-none peer pb-3 pe-3 ps-9 block w-full bg-transparent border-t-transparent border-b-2 border-x-transparent border-b-gray-200 text-base focus:border-t-transparent focus:border-x-transparent focus:border-b-blue-500 focus:ring-0 disabled:opacity-50 disabled:pointer-events-none dark:border-b-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600 dark:focus:border-b-neutral-600"
                    placeholder=""
                  />
                  <div
                    class="absolute pb-3 inset-y-0 start-0 flex items-center pointer-events-none ps-2 peer-disabled:opacity-50 peer-disabled:pointer-events-none"
                  >
                    <svg
                      class="flex-shrink-0 size-5 text-gray-500 dark:text-neutral-500"
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"
                      />
                    </svg>
                  </div>
                </dd>
              </dl>

              <!-- userName -->
              <dl class="grid sm:flex gap-x-3 text-base font-medium">
                <dt class="min-w-36 max-w-[200px]">User name</dt>
                <dd class="relative text-gray-800 dark:text-neutral-200 w-1/2">
                  <input
                    formControlName="userName"
                    class="focus:outline-none peer pb-3 pe-3 ps-9 block w-full bg-transparent border-t-transparent border-b-2 border-x-transparent border-b-gray-200 text-base focus:border-t-transparent focus:border-x-transparent focus:border-b-blue-500 focus:ring-0 disabled:opacity-50 disabled:pointer-events-none dark:border-b-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600 dark:focus:border-b-neutral-600"
                    placeholder=""
                  />
                  <div
                    class="absolute pb-3 inset-y-0 start-0 flex items-center pointer-events-none ps-2 peer-disabled:opacity-50 peer-disabled:pointer-events-none"
                  >
                    <svg
                      class="flex-shrink-0 size-5 text-gray-500 dark:text-neutral-500"
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    >
                      <path
                        d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"
                      ></path>
                      <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                  </div>
                </dd>
              </dl>
            </div>

            <div
              class="p-8 border border-gray-200 bg-white rounded-xl shadow-sm grid space-y-3 gap-7"
            >
              <!-- Phone Number -->
              <dl class="grid sm:flex gap-x-3 text-base font-medium">
                <dt class="min-w-36 max-w-[200px]">Phone Number</dt>
                <dd class="relative text-gray-800 dark:text-neutral-200 w-1/2">
                  <input
                    formControlName="phoneNumber"
                    class="focus:outline-none peer pb-3 pe-3 ps-9 block w-full bg-transparent border-t-transparent border-b-2 border-x-transparent border-b-gray-200 text-base focus:border-t-transparent focus:border-x-transparent focus:border-b-blue-500 focus:ring-0 dark:border-b-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600 dark:focus:border-b-neutral-600"
                    placeholder=""
                  />
                  <div
                    class="absolute pb-3 inset-y-0 start-0 flex items-center pointer-events-none ps-2"
                  >
                    <svg
                      class="flex-shrink-0 size-5 text-gray-500 dark:text-neutral-500"
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"
                      />
                    </svg>
                  </div>
                </dd>
              </dl>

              <!-- Department -->
              <dl class="grid sm:flex gap-x-3 text-base font-medium">
                <dt class="min-w-36 max-w-[200px]">Department</dt>
                <dd class="relative text-gray-800 dark:text-neutral-200 w-1/2">
                  <select
                    id="underline_select"
                    formControlName="department"
                    class="block pb-3 pe-3 ps-9 w-full text-base bg-transparent border-0 border-b-2 border-gray-200 dark:text-gray-400 dark:border-gray-700 focus:outline-none focus:ring-0 focus:border-gray-200 peer focus:border-b-blue- dark:border-b-neutral-700 dark:placeholder-neutral-500 dark:focus:ring-neutral-600 dark:focus:border-b-neutral-600"
                  >
                    <option
                      *ngFor="let department of departments"
                      [ngValue]="department.id"
                    >
                      {{ department.label }}
                    </option>
                  </select>

                  <div
                    class="absolute pb-3 inset-y-0 start-0 flex items-center pointer-events-none ps-2"
                  >
                    <svg
                      class="flex-shrink-0 size-5 text-gray-500 dark:text-neutral-500"
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"
                      />
                    </svg>
                  </div>
                </dd>
              </dl>

              <!-- post -->
              <dl class="grid sm:flex gap-x-3 text-base font-medium">
                <dt class="min-w-36 max-w-[200px]">Post</dt>
                <dd class="relative text-gray-800 dark:text-neutral-200 w-1/2">
                  <input
                    formControlName="post"
                    class="focus:outline-none peer pb-3 pe-3 ps-9 block w-full bg-transparent border-t-transparent border-b-2 border-x-transparent border-b-gray-200 text-base focus:border-t-transparent focus:border-x-transparent focus:border-b-blue-500 focus:ring-0 dark:border-b-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600 dark:focus:border-b-neutral-600"
                    placeholder=""
                  />
                  <div
                    class="absolute pb-3 inset-y-0 start-0 flex items-center pointer-events-none ps-2"
                  >
                    <svg
                      class="flex-shrink-0 size-5 text-gray-500 dark:text-neutral-500"
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"
                      />
                    </svg>
                  </div>
                </dd>
              </dl>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>
